!function(n){"use strict";function o(n){return n}function t(n,t,e,r){e=void 0===e?o:e;for(var u,i=n&&n.length?[{pointer:n,offset:0}]:[],f=[];i.length;)for(u=i.pop();u.offset<u.pointer.length;){var d=u.pointer[u.offset],s=void 0===r?void 0:r(d),p=t(d);f.push(e(d,u.node,s,u.nodeId)),u.offset++,p&&(i.push(u),u={pointer:p,offset:0,node:d,nodeId:s})}return f}function e(n,o,t,e){return void 0===e?r(n,function(e,r){var u=i(n,function(n){return o(r,n)});void 0===u?e.push(r):t(r,u)},[]):(n=u(n,function(n){return{"in":n,out:e(n)}}),r(n,function(e,r){var u=i(n,function(n){return o(r["in"],n["in"])});void 0===u?e.push(r.out):t(r.out,i(n,function(n){return n["in"]===u["in"]}).out)},[]))}var r=n._&&n._.transform||require("lodash.transform"),u=n._&&n._.map||require("lodash.map"),i=n._&&n._.find||require("lodash.find"),f={flatten:t,unflatten:e};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=f:n.uft=f}(this);